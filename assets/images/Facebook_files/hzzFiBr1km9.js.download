;/*FB_PKG_DELIM*/

__d("IGDEBUploadQueueUtils",["I64","LSIntEnum","WAHashStringToNumber","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=null;function a(){j==null&&(j=new Map());return j}function b(a){var b=a.backupActionType,c=a.msgId,e=a.originalMsgProtocolId,f=a.serverTs;a=a.supplementalKey;f={backupAction:(h||(h=d("LSIntEnum"))).ofNumber(b),protobufTimestampMs:(i||(i=d("I64"))).of_float(f),supplementalKey:a,threadId:d("WAJids").threadIdForChatJid(c.chat),topLevelOfflineThreadingId:c.externalId};switch(b){case 1:return k(f);case 2:case 3:case 4:f.backupAction=(h||(h=d("LSIntEnum"))).ofNumber(b);f.topLevelOfflineThreadingId=e.externalId;return k(f);default:return k(f)}}function k(a){var b=a.backupAction,c=a.protobufTimestampMs,e=a.supplementalKey,f=a.threadId;a=a.topLevelOfflineThreadingId;return d("WAHashStringToNumber").hashStringToNumber(f+"_"+a+"_"+(i||(i=d("I64"))).to_string(c)+"_"+i.to_float(b)+"_"+((f=e)!=null?f:""))}c=function(a){return Date.now()-a.serverTs*1e3>30*24*3600};g.getInstanceKeyToEbUploadIdMap=a;g.generateInstanceKey=b;g.generateInstanceKeyFromLS=k;g.entryOlderThan30Days=c}),98);